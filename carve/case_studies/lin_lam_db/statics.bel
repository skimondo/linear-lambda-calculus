%------------------------------------------------------%
% Statics of linear λ-calculus
%------------------------------------------------------%

% de Bruijn levels

LF oft : lctx _ → tm → tp → type =
| oft/var : upd Δ n _ _ T T 𝟙 𝟘 Δ' → exh Δ' → oft Δ (hyp n) T
| oft/lam : oft (cons Δ _ T 𝟙) M S
	→ oft Δ (lam M) (lolli T S)
| oft/app : oft Δ₁ M (lolli T S) → oft Δ₂ N T
	→ merge Δ₁ Δ₂ Δ
	→ oft Δ (app M N) S;

%{
% de Bruijn indices

LF oft : lctx _ → tm → tp → type =
| oft/var : {Δ:lctx N} plus n k N % distance to head of context
	→ upd Δ n _ _ T T 𝟙 𝟘 Δ' → exh Δ'
	→ oft Δ (hyp k) T
| oft/lam : sh_up M zero M'
	→ oft (cons Δ _ T 𝟙) M' S
	→ oft Δ (lam M) (lolli T S)
| oft/app : oft Δ₁ M (lolli T S) → oft Δ₂ N T
	→ merge Δ₁ Δ₂ Δ
	→ oft Δ (app M N) S;
}%