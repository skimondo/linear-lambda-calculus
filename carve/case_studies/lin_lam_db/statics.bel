%------------------------------------------------------%
% Statics of linear Î»-calculus
%------------------------------------------------------%

% de Bruijn levels

LF oft : lctx _ â†’ tm â†’ tp â†’ type =
| oft/var : upd Î” n _ _ T T ğŸ™ ğŸ˜ Î”' â†’ exh Î”' â†’ oft Î” (hyp n) T
| oft/lam : oft (cons Î” _ T ğŸ™) M S
	â†’ oft Î” (lam M) (lolli T S)
| oft/app : oft Î”â‚ M (lolli T S) â†’ oft Î”â‚‚ N T
	â†’ merge Î”â‚ Î”â‚‚ Î”
	â†’ oft Î” (app M N) S;

%{
% de Bruijn indices

LF oft : lctx _ â†’ tm â†’ tp â†’ type =
| oft/var : {Î”:lctx N} plus n k N % distance to head of context
	â†’ upd Î” n _ _ T T ğŸ™ ğŸ˜ Î”' â†’ exh Î”'
	â†’ oft Î” (hyp k) T
| oft/lam : sh_up M zero M'
	â†’ oft (cons Î” _ T ğŸ™) M' S
	â†’ oft Î” (lam M) (lolli T S)
| oft/app : oft Î”â‚ M (lolli T S) â†’ oft Î”â‚‚ N T
	â†’ merge Î”â‚ Î”â‚‚ Î”
	â†’ oft Î” (app M N) S;
}%